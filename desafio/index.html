<!DOCTYPE html>
<html>
<head>
	<title> To-Do-List Desafio </title>
	<link rel="stylesheet" type="text/css" href="estilo.css">
	<script src="https://kit.fontawesome.com/a076d05399.js"></script>
	<meta charset="utf-8">

</head>
<body>



	<div class='content'>

		<div class="row">

			<div class="col-12">
				<h1><i class="fas fa-list"></i></h1>
				<h1> To-Do-List </h1>

				<form>
					<input type="text" name="task" id='task' 
					placeholder="Novo Item..." />
					<input type="button"
					 name="" 
					 value='Salvar'
					 onclick="addTask()"

					  />
				</form>
				
				
			</div>
			
		</div>

		<div class="row">
			<div class="col-12">

				<div class="to-do-list-box">

					<ul id="myList">
						
					</ul>


					
				</div>
				
			</div>
			
		</div>

		
	</div>
<script>
  var ul = document.getElementById("myList");
		var li;
		var itemId;
		var item;


		addTask = function (){
			if(document.getElementById("task").value != ""){
         item = document.getElementById("task");
         itemId = ul.getElementsByTagName("li").length;
         li = createItemEl(item.value, itemId);
         li.appendChild(createRemoveTaskBtn(itemId));
         li.appendChild(createEditTaskBtn(itemId));
         ul.appendChild(li);
         item.value = "";
       }
		}

		removeTask = function(itemId){
			for( i = 0; i < ul.children.length ; i++){

				if(ul.children[i].getAttribute("index") == itemId){

					ul.children[i].remove();
				}
			}
		}



		createItemEl = function (itemValue, itemId){

			let li = document.createElement("li");

			li.setAttribute("index", itemId);

			li.appendChild(document.createTextNode(itemValue));

			return li;

		}
	

		createRemoveTaskBtn = function (itemId){

			let btn = document.createElement("button");

			btn.setAttribute("onclick", "removeTask("+itemId+")");

			btn.innerHTML ="Deletar";

			return btn;

		}

		editTask = function (){

			for ( i = 0; i < ul.children.length ; i++){

				if(ul.children[i].getAttribute("index") == itemId){
					document.getElementById("task").value = ul.children[i].value;

					// ul.children[i].disabled = false;
				}
			}

		}

		createEditTaskBtn = function (itemId){

			let btn = document.createElement("button");

			btn.setAttribute("onclick", "editTask("+itemId+")");

			btn.innerHTML = "Editar";

			return btn;
		}
  </script>
	


</body>
</html>